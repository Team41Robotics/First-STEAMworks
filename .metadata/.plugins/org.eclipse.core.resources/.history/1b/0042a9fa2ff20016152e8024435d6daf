#include "WPILib.h"
#include "stdio.h"
#include "CANTalon.h"
using namespace std;
#include <vector>
#define PI 3.1415926535

class Robot: public IterativeRobot
{
private:

public:

	LiveWindow *lw = LiveWindow::GetInstance();
	Command *autonCommand;
	CANTalon *shooterM1;
	CANTalon *shooterM2;
	CANTalon *barrel;
	Joystick *control_0;

	//digitalOut *trigger;

/*	struct Motor {
		CANTalon *motorController;
		float speed = 0;
	};

	std::vector<Motor> currMotors;


	void Add_Motor(int port){
		Motor newMotor;
		//newMotor.motorController = new CANTalon(port);
		SmartDashboard::PutNumber("Motor Speed (from -1.0 to 1.0):", newMotor.speed);
		currMotors.push_back(newMotor);
	}
*/
	void AutonomousInit()
	{

	}

	void AutonomousPeriodic()
	{

	}

	void TeleopInit()
	{
		shooterM1 = new CANTalon(4);
		shooterM2 = new CANTalon(8);

		barrel = new CANTalon(5);
		control_0 = new Joystick(0);

	}

	void TeleopPeriodic()
	{
		//shooterM1->Set(-((-control_0->GetRawAxis(3)+1.0)/2.0));
		//shooterM2->Set(((-control_0->GetRawAxis(3)+1.0)/2.0));
		//printf("axis 3:%f, axis 1: %f\n", pow(2.0,control_0->GetRawAxis(1))/2.0,control_0->GetRawAxis(1));
		//printf("shooter %f\n",((-control_0->GetRawAxis(3)+1)/2.0));
		//printf("test, %f\n",    pow(2.0,control_0->GetRawAxis(1)));
				//1 monitr
				//0 trig

		printf("input %f\n", 2*acos(control_0->GetRawAxis(3))/PI-1 );




		//barrel->Set(-control_0->GetRawAxis(1));
	/*
		printf("started...");
		double port = SmartDashboard::GetNumber("Add Motor with port (from 0 to 4):",-1.0);
		printf("port: %f",port);
		if(port != -1.0){
			Add_Motor(port);
		}
		SmartDashboard::PutNumber("Add Motor with port (from 0 to 4):",-1);

		for(int i = 0; i < currMotors.size(); i++){
			currMotors[i].speed= SmartDashboard::GetNumber("Motor Speed (from -1.0 to 1.0):",currMotors[i].speed);
			currMotors[i].motorController->Set(currMotors[i].speed);
		}*/
	}

	void TestPeriodic()
	{
		lw->Run();
	}
};

START_ROBOT_CLASS(Robot)
